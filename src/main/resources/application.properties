spring.application.name=QuestionBank

# Database Configuration
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA Configuration
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.open-in-view=false

# Flyway Configuration
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true
spring.flyway.validate-on-migrate=true

# Plagiarism Detection Configuration
plagiarism.threshold=0.65
plagiarism.text.threshold=0.70
plagiarism.code.threshold=0.60
plagiarism.detection.batchSize=32
plagiarism.detection.enableCaching=true
plagiarism.detection.cacheExpirationMinutes=60

# Swagger Configuration
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html

# Server Configuration
server.port=8080

# Media Upload Configuration
media.upload.path=Data
media.upload.max-file-size=52428800
media.upload.allowed-mime-types=image/*,video/*,audio/*,application/pdf,text/*,application/zip,application/x-rar-compressed
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB

# AI Configuration
ai.mistral.api.key=${MISTRAL_API_KEY}
ai.mistral.api.url=https://api.mistral.ai/v1/chat/completions
ai.correction.enabled=true
ai.correction.threshold=0.7
ai.correction.max-tokens=1000

# Judge0 Configuration
judge0.api.key=${JUDGE0_API_KEY}
judge0.api.url=https://judge0-ce.p.rapidapi.com/submissions?base64_encoded=false&wait=true
judge0.api.host=judge0-ce.p.rapidapi.com

# ONNX Runtime Configuration (Local AI Inference - General)
onnx.model.path=models/text-classifier.onnx
onnx.model.max-length=512
onnx.enabled=false

# ONNX Plagiarism Detection - Image Embeddings
plagiarism.image.onnx.enabled=true
plagiarism.image.onnx.model.path=models/resnet18-v2-7.onnx
plagiarism.image.embedding.dimensions=1000
plagiarism.image.input.width=224
plagiarism.image.input.height=224

# ONNX Plagiarism Detection - Text Embeddings
plagiarism.text.onnx.enabled=true
plagiarism.text.onnx.model.path=models/text-embedding-all-MiniLM-L6-v2.onnx
plagiarism.text.onnx.tokenizer.path=models/tokenizer.json
plagiarism.text.embedding.dimensions=384
plagiarism.text.max.length=512

# Static Resource Configuration
spring.web.resources.cache.cachecontrol.max-age=3600
spring.web.resources.cache.cachecontrol.cache-public=true

# Security Configuration
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration
